"use client";
import { useEffect } from "react";

const CursorFishSequence = () => {
  useEffect(() => {
    const createFishSequence = (x, y) => {
      // Purple Fish SVG (right to left)
      const purpleFishSVG = `<svg width="100" height="75" viewBox="0 0 800 600.7" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="purpleFish" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#c084fc;stop-opacity:1" />
            <stop offset="30%" style="stop-color:#a855f7;stop-opacity:1" />
            <stop offset="70%" style="stop-color:#8b5cf6;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
          </linearGradient>
        </defs>
        <path d="M78.45,324c14.63,1.22,28.61,2.38,42.81,3.56-12.09-10.5-26.33-16.32-42.11-19.61,29.66-23.31,48.71-54.64,68.61-85.22,19.15-29.42,39.01-58.25,63.42-83.68,42.3-44.07,93.3-72.28,153.37-83.4,20.98-3.88,42.23-6.61,63.46-8.84,62.04-6.53,124.34-6.39,186.62-6.58,2.63,0,5.39,.28,7.85,1.13,3.23,1.11,5.12,3.68,5.4,7.28,.29,3.68-1.31,6.56-4.56,7.7-4.23,1.48-8.72,2.24-13.14,3.13-30.72,6.18-58.56,18.84-83.65,37.52-13.08,9.74-24.46,21.14-33.43,34.89-10.21,15.65-13.44,32.3-8.41,50.49,5.82,21.01,15.64,39.73,31.27,55.12,2.74,2.69,5.93,5.04,9.21,7.04,8.66,5.29,17.81,4.86,25.87-2.56,10.52-9.69,20.58-19.94,30.18-30.54,23.93-26.41,47.73-52.93,74.22-76.86,9.33-8.43,18.94-16.57,28.72-24.48,2.77-2.24,6.47-4.03,9.96-4.56,6.62-1,11.53,3.8,10.98,10.5-.31,3.76-1.54,7.6-3.09,11.08-6.43,14.37-13.54,28.45-19.65,42.95-12.2,28.96-17,59.23-14.25,90.58,.61,6.91,1.52,13.84,2.98,20.61,1.39,6.46,.87,12.77-.04,19.11-7.59,52.59,3.06,101.22,31.3,146.18,5.17,8.23,10.02,16.77,13.98,25.64,3.35,7.5-.82,14.09-8.9,15.28-3.04,.45-6.67,.32-9.35-.95-8.16-3.89-16.24-8.07-23.92-12.84-29.3-18.22-54.75-41.08-78.42-66.02-12.45-13.11-24.67-26.44-37.04-39.63-2.01-2.14-4.2-4.14-6.47-6.01-11.15-9.25-22.5-9.13-32.36,1.59-14.28,15.52-20.88,33.58-15.44,54.92,5.31,20.85,16.35,38.54,30.16,54.6,23.04,26.8,50.87,47.66,81.68,64.71,2.9,1.61,5.82,3.33,8.34,5.46,2.96,2.5,4.22,6.06,2.75,9.78-1.5,3.81-4.7,5.93-8.85,5.7-16.43-.91-32.91-1.38-49.25-3.13-19.64-2.1-39.29-4.66-58.71-8.22-62.81-11.51-123.97-28.32-180.3-59.46-11.79-6.52-22.9-14.24-34.49-21.12-4.4-2.61-9.15-4.78-13.98-6.47-6.35-2.22-12.93-3.76-20.09-4.85,7.01,6.75,13.77,13.79,21.08,20.2,17.7,15.48,38.13,27.03,57.7,39.85,12.15,7.96,23.58,17.06,35,26.06,3.26,2.57,5.78,6.33,7.93,9.97,2.87,4.84,.64,8.59-4.84,7.93-5.9-.71-11.92-1.86-17.47-3.94-55.54-20.83-102.36-53.65-137.03-102.26-6.4-8.97-13.46-15.67-23.08-20.87-22.01-11.88-41.64-27.21-59.39-44.8-20.9-20.72-41.48-41.76-63.17-63.64Z" fill="url(#purpleFish)" stroke="#5b21b6" stroke-width="6"/>
        <path d="M164.66,294.29c-6.56,.01-11.12-4.32-11.1-10.54,.02-6.02,5.02-11.12,10.88-11.09,5.99,.03,11.45,5.44,11.38,11.27-.07,5.57-5.22,10.35-11.16,10.36Z" fill="#ffffff"/>
      </svg>`;

      // Green Fish SVG (right to left)
      const greenFishSVG = `<svg width="100" height="75" viewBox="0 0 800 600.7" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="greenFish" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#86efac;stop-opacity:1" />
            <stop offset="30%" style="stop-color:#4ade80;stop-opacity:1" />
            <stop offset="70%" style="stop-color:#22c55e;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
          </linearGradient>
        </defs>
        <path d="M78.45,324c14.63,1.22,28.61,2.38,42.81,3.56-12.09-10.5-26.33-16.32-42.11-19.61,29.66-23.31,48.71-54.64,68.61-85.22,19.15-29.42,39.01-58.25,63.42-83.68,42.3-44.07,93.3-72.28,153.37-83.4,20.98-3.88,42.23-6.61,63.46-8.84,62.04-6.53,124.34-6.39,186.62-6.58,2.63,0,5.39,.28,7.85,1.13,3.23,1.11,5.12,3.68,5.4,7.28,.29,3.68-1.31,6.56-4.56,7.7-4.23,1.48-8.72,2.24-13.14,3.13-30.72,6.18-58.56,18.84-83.65,37.52-13.08,9.74-24.46,21.14-33.43,34.89-10.21,15.65-13.44,32.3-8.41,50.49,5.82,21.01,15.64,39.73,31.27,55.12,2.74,2.69,5.93,5.04,9.21,7.04,8.66,5.29,17.81,4.86,25.87-2.56,10.52-9.69,20.58-19.94,30.18-30.54,23.93-26.41,47.73-52.93,74.22-76.86,9.33-8.43,18.94-16.57,28.72-24.48,2.77-2.24,6.47-4.03,9.96-4.56,6.62-1,11.53,3.8,10.98,10.5-.31,3.76-1.54,7.6-3.09,11.08-6.43,14.37-13.54,28.45-19.65,42.95-12.2,28.96-17,59.23-14.25,90.58,.61,6.91,1.52,13.84,2.98,20.61,1.39,6.46,.87,12.77-.04,19.11-7.59,52.59,3.06,101.22,31.3,146.18,5.17,8.23,10.02,16.77,13.98,25.64,3.35,7.5-.82,14.09-8.9,15.28-3.04,.45-6.67,.32-9.35-.95-8.16-3.89-16.24-8.07-23.92-12.84-29.3-18.22-54.75-41.08-78.42-66.02-12.45-13.11-24.67-26.44-37.04-39.63-2.01-2.14-4.2-4.14-6.47-6.01-11.15-9.25-22.5-9.13-32.36,1.59-14.28,15.52-20.88,33.58-15.44,54.92,5.31,20.85,16.35,38.54,30.16,54.6,23.04,26.8,50.87,47.66,81.68,64.71,2.9,1.61,5.82,3.33,8.34,5.46,2.96,2.5,4.22,6.06,2.75,9.78-1.5,3.81-4.7,5.93-8.85,5.7-16.43-.91-32.91-1.38-49.25-3.13-19.64-2.1-39.29-4.66-58.71-8.22-62.81-11.51-123.97-28.32-180.3-59.46-11.79-6.52-22.9-14.24-34.49-21.12-4.4-2.61-9.15-4.78-13.98-6.47-6.35-2.22-12.93-3.76-20.09-4.85,7.01,6.75,13.77,13.79,21.08,20.2,17.7,15.48,38.13,27.03,57.7,39.85,12.15,7.96,23.58,17.06,35,26.06,3.26,2.57,5.78,6.33,7.93,9.97,2.87,4.84,.64,8.59-4.84,7.93-5.9-.71-11.92-1.86-17.47-3.94-55.54-20.83-102.36-53.65-137.03-102.26-6.4-8.97-13.46-15.67-23.08-20.87-22.01-11.88-41.64-27.21-59.39-44.8-20.9-20.72-41.48-41.76-63.17-63.64Z" fill="url(#greenFish)" stroke="#15803d" stroke-width="6"/>
        <path d="M164.66,294.29c-6.56,.01-11.12-4.32-11.1-10.54,.02-6.02,5.02-11.12,10.88-11.09,5.99,.03,11.45,5.44,11.38,11.27-.07,5.57-5.22,10.35-11.16,10.36Z" fill="#ffffff"/>
      </svg>`;

      // Yellow Fish SVG (right to left)
      const yellowFishSVG = `<svg width="100" height="75" viewBox="0 0 800 600.7" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="yellowFish" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#fef08a;stop-opacity:1" />
            <stop offset="30%" style="stop-color:#fde047;stop-opacity:1" />
            <stop offset="70%" style="stop-color:#facc15;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#eab308;stop-opacity:1" />
          </linearGradient>
        </defs>
        <path d="M78.45,324c14.63,1.22,28.61,2.38,42.81,3.56-12.09-10.5-26.33-16.32-42.11-19.61,29.66-23.31,48.71-54.64,68.61-85.22,19.15-29.42,39.01-58.25,63.42-83.68,42.3-44.07,93.3-72.28,153.37-83.4,20.98-3.88,42.23-6.61,63.46-8.84,62.04-6.53,124.34-6.39,186.62-6.58,2.63,0,5.39,.28,7.85,1.13,3.23,1.11,5.12,3.68,5.4,7.28,.29,3.68-1.31,6.56-4.56,7.7-4.23,1.48-8.72,2.24-13.14,3.13-30.72,6.18-58.56,18.84-83.65,37.52-13.08,9.74-24.46,21.14-33.43,34.89-10.21,15.65-13.44,32.3-8.41,50.49,5.82,21.01,15.64,39.73,31.27,55.12,2.74,2.69,5.93,5.04,9.21,7.04,8.66,5.29,17.81,4.86,25.87-2.56,10.52-9.69,20.58-19.94,30.18-30.54,23.93-26.41,47.73-52.93,74.22-76.86,9.33-8.43,18.94-16.57,28.72-24.48,2.77-2.24,6.47-4.03,9.96-4.56,6.62-1,11.53,3.8,10.98,10.5-.31,3.76-1.54,7.6-3.09,11.08-6.43,14.37-13.54,28.45-19.65,42.95-12.2,28.96-17,59.23-14.25,90.58,.61,6.91,1.52,13.84,2.98,20.61,1.39,6.46,.87,12.77-.04,19.11-7.59,52.59,3.06,101.22,31.3,146.18,5.17,8.23,10.02,16.77,13.98,25.64,3.35,7.5-.82,14.09-8.9,15.28-3.04,.45-6.67,.32-9.35-.95-8.16-3.89-16.24-8.07-23.92-12.84-29.3-18.22-54.75-41.08-78.42-66.02-12.45-13.11-24.67-26.44-37.04-39.63-2.01-2.14-4.2-4.14-6.47-6.01-11.15-9.25-22.5-9.13-32.36,1.59-14.28,15.52-20.88,33.58-15.44,54.92,5.31,20.85,16.35,38.54,30.16,54.6,23.04,26.8,50.87,47.66,81.68,64.71,2.9,1.61,5.82,3.33,8.34,5.46,2.96,2.5,4.22,6.06,2.75,9.78-1.5,3.81-4.7,5.93-8.85,5.7-16.43-.91-32.91-1.38-49.25-3.13-19.64-2.1-39.29-4.66-58.71-8.22-62.81-11.51-123.97-28.32-180.3-59.46-11.79-6.52-22.9-14.24-34.49-21.12-4.4-2.61-9.15-4.78-13.98-6.47-6.35-2.22-12.93-3.76-20.09-4.85,7.01,6.75,13.77,13.79,21.08,20.2,17.7,15.48,38.13,27.03,57.7,39.85,12.15,7.96,23.58,17.06,35,26.06,3.26,2.57,5.78,6.33,7.93,9.97,2.87,4.84,.64,8.59-4.84,7.93-5.9-.71-11.92-1.86-17.47-3.94-55.54-20.83-102.36-53.65-137.03-102.26-6.4-8.97-13.46-15.67-23.08-20.87-22.01-11.88-41.64-27.21-59.39-44.8-20.9-20.72-41.48-41.76-63.17-63.64Z" fill="url(#yellowFish)" stroke="#a16207" stroke-width="6"/>
        <path d="M164.66,294.29c-6.56,.01-11.12-4.32-11.1-10.54,.02-6.02,5.02-11.12,10.88-11.09,5.99,.03,11.45,5.44,11.38,11.27-.07,5.57-5.22,10.35-11.16,10.36Z" fill="#ffffff"/>
      </svg>`;

      const fishData = [
        { svg: purpleFishSVG, class: "purple-fish", delay: 0 },
        { svg: greenFishSVG, class: "green-fish", delay: 0 },
        { svg: yellowFishSVG, class: "yellow-fish", delay: 0 },
      ];

      fishData.forEach(({ svg, class: fishClass, delay }) => {
        setTimeout(() => {
          const fishElement = document.createElement("div");
          fishElement.className = `cursor-fish-sequence ${fishClass}`;
          fishElement.innerHTML = svg;
          fishElement.style.top = `${y}px`;
          fishElement.style.left = "100vw"; // All fish start from the right

          document.body.appendChild(fishElement);

          // Remove fish after animation completes (increased time for slower animation)
          setTimeout(() => {
            if (fishElement.parentNode) {
              fishElement.parentNode.removeChild(fishElement);
            }
          }, 6000);
        }, delay);
      });
    };

    let lastTrigger = 0;
    const throttleDelay = 1500; // Only trigger every 1.5 seconds

    const handleClick = (event) => {
      const now = Date.now();
      if (now - lastTrigger > throttleDelay) {
        createFishSequence(event.clientX, event.clientY);
        lastTrigger = now;
      }
    };

    // Add event listener for mouse clicks anywhere
    document.addEventListener("click", handleClick);

    // Cleanup function
    return () => {
      document.removeEventListener("click", handleClick);
    };
  }, []);

  return null; // This component doesn't render anything visible
};

export default CursorFishSequence;
